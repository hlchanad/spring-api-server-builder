<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:jpa="http://www.springframework.org/schema/data/jpa" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
							http://www.springframework.org/schema/beans/spring-beans-4.1.xsd
							http://www.springframework.org/schema/context
					   		http://www.springframework.org/schema/context/spring-context-4.1.xsd
					   		http://www.springframework.org/schema/data/jpa
    						http://www.springframework.org/schema/data/jpa/spring-jpa.xsd
    						http://www.springframework.org/schema/tx
    						http://www.springframework.org/schema/tx/spring-tx.xsd">


    <!-- Properties file -->
    <!-- DEV -->
    <context:property-placeholder location="classpath:application.properties" />
    <!-- SIT -->
    <!--<context:property-placeholder location="file:/u01/jbossadm/applications/TTG_API/config/application.properties"/>-->
    <!-- UAT -->

    <!-- DB Setting -->
    {#<bean id="dataSource" class="org.apache.commons.dbcp2.BasicDataSource" destroy-method="close">#}
        {#<property name="driverClassName" value="oracle.jdbc.OracleDriver" />#}
        {#<property name="url" value="${database.url}" />#}
        {#<property name="username" value="${database.username}" />#}
        {#<property name="password" value="${database.pdd}" />#}
        {#<property name="maxTotal" value="${database.maxTotal}" />#}
        {#<property name="maxIdle" value="${database.maxIdle}" />#}
        {#<property name="initialSize" value="${database.initialSize}" />#}
        {#<property name="minIdle" value="${database.minIdle}" />#}
        {#<property name="maxWaitMillis" value="${database.maxWaitMillis}" />#}
        {#<property name="validationQuery" value="${database.validationQuery}" />#}
        {#<property name="validationQueryTimeout" value="${database.validationQueryTimeout}" />#}
    {#</bean>#}

    {#<jpa:repositories base-package="{{ repoPackage }}" />#}

    {#<bean id="entityManagerFactory"#}
          {#class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">#}
        {#<property name="packagesToScan" value="{{ pojoPackage }}" />#}
        {#<property name="dataSource" ref="dataSource" />#}
        {#<property name="jpaVendorAdapter">#}
            {#<bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter" />#}
        {#</property>#}
        {#<property name="jpaProperties">#}
            {#<props>#}
                {#<prop key="hibernate.hbm2ddl.auto">none</prop>#}
                {#<prop key="hibernate.dialect">org.hibernate.dialect.Oracle10gDialect</prop>#}
                {#<prop key="hibernate.show_sql">${database.showSQL}</prop>#}
                {#<prop key="hibernate.generateDdl">true</prop>#}
                {#<prop key="hibernate.default_schema">${database.defaultSchema}</prop>#}
            {#</props>#}
        {#</property>#}
    {#</bean>#}

    {#<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager" />#}
    {#<tx:annotation-driven/>#}

    {#<!-- Web Service Response XML to Object Marshaller -->#}
    {#<import resource="classpath:marshaller-siebel.xml" />#}
    {#<import resource="classpath:marshaller-payment.xml" />#}

    {#<bean name="decryptRequestBodyFilter" class="com.mtel.crypto.wrapper.DecryptRequestBodyFilter" >#}
        {#<property name="aswEncryptKey" value="${asw.encrypt.key}"/>#}
        {#<property name="doFilterList"  value="#{'${asw.decrypt.request.list}'.split(',')}"/>#}
        {#<property name="excludeFilterList"  value="#{'${asw.decrypt.request.exclude.list}'.split(',')}"/>#}
    {#</bean>#}

</beans>
